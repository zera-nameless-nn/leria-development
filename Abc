javascript:(function() {
    // 1. Ki·ªÉm tra xem tool ƒë√£ ch·∫°y ch∆∞a ƒë·ªÉ tr√°nh t·∫°o tr√πng l·∫∑p
    if (document.getElementById('my-custom-tool-ui')) {
        alert('Tool ƒëang ch·∫°y r·ªìi!');
        return;
    }

    // --- C·∫§U H√åNH CSS ---
    const style = document.createElement('style');
    style.innerHTML = `
        /* Logo nh·ªè ƒë·ªÉ b·∫≠t t·∫Øt */
        #my-tool-icon {
            position: fixed; top: 10px; right: 10px; width: 50px; height: 50px;
            background: #ff4757; border-radius: 50%; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: bold; font-family: sans-serif;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); z-index: 999999;
            transition: transform 0.2s; user-select: none;
        }
        #my-tool-icon:hover { transform: scale(1.1); }
        
        /* Giao di·ªán ch√≠nh */
        #my-custom-tool-ui {
            position: fixed; top: 100px; right: 100px; width: 350px;
            background: #2f3542; color: #fff; font-family: monospace;
            border-radius: 8px; box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            z-index: 999999; display: none; overflow: hidden;
            border: 1px solid #57606f;
        }

        /* Thanh ti√™u ƒë·ªÅ ƒë·ªÉ k√©o */
        #tool-header {
            padding: 10px; background: #57606f; cursor: move;
            font-weight: bold; display: flex; justify-content: space-between;
            user-select: none;
        }
        
        /* N·ªôi dung b√™n trong */
        #tool-body { padding: 15px; max-height: 400px; overflow-y: auto; }
        
        /* C√°c n√∫t b·∫•m */
        .tool-btn {
            display: block; width: 100%; padding: 8px; margin-bottom: 8px;
            background: #1e90ff; color: white; border: none; border-radius: 4px;
            cursor: pointer; font-family: inherit;
        }
        .tool-btn:hover { background: #3742fa; }
        .tool-btn.red { background: #ff4757; }
        .tool-btn.red:hover { background: #ff6b81; }

        /* V√πng hi·ªÉn th·ªã k·∫øt qu·∫£ */
        #result-area {
            width: 100%; height: 150px; background: #000; color: #0f0;
            border: 1px solid #555; font-size: 11px; padding: 5px;
            box-sizing: border-box; resize: vertical; margin-top: 10px;
        }
    `;
    document.head.appendChild(style);

    // --- T·∫†O GIAO DI·ªÜN HTML ---
    
    // 1. T·∫°o Logo
    const icon = document.createElement('div');
    icon.id = 'my-tool-icon';
    icon.innerText = 'TOOL';
    icon.title = 'B·∫≠t/T·∫Øt Menu';
    document.body.appendChild(icon);

    // 2. T·∫°o B·∫£ng ƒëi·ªÅu khi·ªÉn (Panel)
    const panel = document.createElement('div');
    panel.id = 'my-custom-tool-ui';
    panel.innerHTML = `
        <div id="tool-header">
            <span>‚öôÔ∏è Control Panel</span>
            <span style="cursor:pointer;" id="close-panel-x">‚ùå</span>
        </div>
        <div id="tool-body">
            <button class="tool-btn" id="btn-fullscreen">üì∫ Full Screen (On/Off)</button>
            <button class="tool-btn" id="btn-get-storage">üîë Get LocalStorage</button>
            <textarea id="result-area" placeholder="K·∫øt qu·∫£ s·∫Ω hi·ªán ·ªü ƒë√¢y..."></textarea>
            <button class="tool-btn red" id="btn-copy">üìã Copy K·∫øt Qu·∫£</button>
        </div>
    `;
    document.body.appendChild(panel);

    // --- X·ª¨ L√ù CH·ª®C NƒÇNG ---

    // 1. B·∫≠t t·∫Øt UI b·∫±ng Logo
    let isVisible = false;
    icon.onclick = function() {
        isVisible = !isVisible;
        panel.style.display = isVisible ? 'block' : 'none';
    };
    
    document.getElementById('close-panel-x').onclick = function() {
        panel.style.display = 'none';
        isVisible = false;
    };

    // 2. Ch·ª©c nƒÉng Fullscreen
    document.getElementById('btn-fullscreen').onclick = function() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                alert(`L·ªói: ${err.message}`);
            });
        } else {
            document.exitFullscreen();
        }
    };

    // 3. Ch·ª©c nƒÉng l·∫•y LocalStorage (UgPhone ho·∫∑c web b·∫•t k·ª≥)
    document.getElementById('btn-get-storage').onclick = function() {
        const textArea = document.getElementById('result-area');
        try {
            // L·∫•y to√†n b·ªô LocalStorage
            const allStorage = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                allStorage[key] = localStorage.getItem(key);
            }
            
            // Format ƒë·∫πp JSON
            const result = JSON.stringify(allStorage, null, 2);
            textArea.value = result;
            
            // Th√¥ng b√°o n·∫øu t√¨m th·∫•y key nghi v·∫•n
            if(JSON.stringify(allStorage).toLowerCase().includes("token")) {
                alert("ƒê√£ t√¨m th·∫•y Token/Auth trong d·ªØ li·ªáu!");
            }
        } catch (e) {
            textArea.value = "L·ªói: " + e;
        }
    };

    // 4. Ch·ª©c nƒÉng Copy
    document.getElementById('btn-copy').onclick = function() {
        const textArea = document.getElementById('result-area');
        textArea.select();
        document.execCommand('copy');
        alert("ƒê√£ copy v√†o b·ªô nh·ªõ ƒë·ªám!");
    };

    // --- X·ª¨ L√ù K√âO TH·∫¢ (DRAG & DROP) ---
    const header = document.getElementById('tool-header');
    let isDragging = false, offsetX = 0, offsetY = 0;

    header.onmousedown = function(e) {
        isDragging = true;
        offsetX = e.clientX - panel.offsetLeft;
        offsetY = e.clientY - panel.offsetTop;
    };

    document.onmousemove = function(e) {
        if (isDragging) {
            panel.style.left = (e.clientX - offsetX) + 'px';
            panel.style.top = (e.clientY - offsetY) + 'px';
            panel.style.right = 'auto'; // Reset right ƒë·ªÉ kh√¥ng b·ªã k·∫πt
        }
    };

    document.onmouseup = function() {
        isDragging = false;
    };

})();
